"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6845],{6845:(Ae,T,u)=>{u.r(T),u.d(T,{InicioPageModule:()=>$e});var g=u(177),l=u(4341),s=u(7863),C=u(4964),d=u(467),e=u(4438),f=u(5407);u(2214);var m=u(9583),X=u(1985),z=u(6354),F=function(){return F=Object.assign||function(o){for(var r,n=1,i=arguments.length;n<i;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a]);return o},F.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Y={includeMetadataChanges:!1};function ne(t,o){return void 0===o&&(o={}),function te(t){return function b(t,o){return void 0===o&&(o=Y),new X.c(function(r){return{unsubscribe:(0,m.aQ)(t,o,{next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}})}(t,{includeMetadataChanges:!0}).pipe((0,z.T)(function(o){return o.docs}))}(t).pipe((0,z.T)(function(r){return r.map(function(n){return function k(t,o){var r;void 0===o&&(o={});var n=t.data(o);return t.exists()&&"object"==typeof n&&null!==n&&o.idField?F(F({},n),((r={})[o.idField]=t.id,r)):n}(n,o)})}))}const ce=(0,f.S3)(ne,!0),ue=(0,f.S3)(m.gS,!0),V=(0,f.S3)(m.rJ,!0),pe=(0,f.S3)(m.kd,!0),w=(0,f.S3)(m.H9,!0),h=(0,f.S3)(m.aU,!0),de=(0,f.S3)(m.mZ,!0);var fe=u(5155);let N=(()=>{var t;class o{constructor(){this.fireStore=(0,e.WQX)(fe.Qe)}addDocument(n,i){return ue(V(h(),n),i)}getDatos(n,i){const a=V(h(),n);return ce((0,m.P)(a,i),{idField:"id"})}UpdateDocument(n,i){return de(w(h(),n),i)}deleteDocument(n){return pe(w(h(),n))}}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),o})(),M=(()=>{var t;class o{constructor(){this.modalCtrl=(0,e.WQX)(s.W3),this.loadingCtrl=(0,e.WQX)(s.Xi),this.toastCtrl=(0,e.WQX)(s.K_),this.router=(0,e.WQX)(C.Ix),this.alertCtrl=(0,e.WQX)(s.hG)}presentAlert(n){var i=this;return(0,d.A)(function*(){yield(yield i.alertCtrl.create(n)).present()})()}loading(){return this.loadingCtrl.create({spinner:"crescent"})}presentToast(n){var i=this;return(0,d.A)(function*(){(yield i.toastCtrl.create(n)).present()})()}presentModal(n){var i=this;return(0,d.A)(function*(){const a=yield i.modalCtrl.create(n);yield a.present();const{data:c}=yield a.onDidDismiss();if(c)return c})()}dismissModal(n){return this.modalCtrl.dismiss(n)}}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();function me(t,o){if(1&t){const r=e.RV6();e.j41(0,"ion-button",7),e.bIt("click",function(){e.eBV(r);const i=e.XpG();return e.Njj(i.dismissModal())}),e.nrm(1,"ion-icon",8),e.k0s()}}let U=(()=>{var t;class o{constructor(){this.utiliSvc=(0,e.WQX)(M)}ngOnInit(){}dismissModal(){this.utiliSvc.dismissModal()}}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-header"]],inputs:{title:"title",isModal:"isModal"},decls:10,vars:2,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"click",4,"ngIf"],[1,"centered-title"],[1,"admin-badge"],["slot","end"],[3,"click"],["name","close-circle-outline","size","large"]],template:function(n,i){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.DNE(3,me,2,0,"ion-button",3),e.k0s(),e.j41(4,"ion-title",4)(5,"strong"),e.EFF(6),e.k0s(),e.j41(7,"div",5),e.EFF(8,"JHORMAN"),e.k0s()(),e.nrm(9,"ion-buttons",6),e.k0s()()),2&n&&(e.R7$(3),e.Y8G("ngIf",i.isModal),e.R7$(3),e.JRh(i.title))},dependencies:[g.bT,s.Jm,s.QW,s.eU,s.iq,s.BC,s.ai],styles:[".admin[_ngcontent-%COMP%]{font-size:13px}ion-header[_ngcontent-%COMP%]   .centered-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%}ion-header[_ngcontent-%COMP%]   .admin-badge[_ngcontent-%COMP%]{font-size:.75em;background-color:#fff;color:#000;padding:4px 8px;border-radius:12px;margin-top:4px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{position:relative}ion-header[_ngcontent-%COMP%]   ion-buttons[slot=start][_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-buttons[slot=end][_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}ion-header[_ngcontent-%COMP%]   ion-buttons[slot=start][_ngcontent-%COMP%]{left:16px}ion-header[_ngcontent-%COMP%]   ion-buttons[slot=end][_ngcontent-%COMP%]{right:16px}"]}),o})();function ge(t,o){if(1&t&&(e.j41(0,"ion-select-option",6),e.EFF(1),e.k0s()),2&t){const r=o.$implicit;e.Y8G("value",r),e.R7$(),e.JRh(r)}}function _e(t,o){if(1&t&&(e.qex(0),e.j41(1,"ion-select",4),e.DNE(2,ge,2,2,"ion-select-option",5),e.k0s(),e.bVm()),2&t){const r=e.XpG();e.R7$(),e.Y8G("formControl",r.control),e.R7$(),e.Y8G("ngForOf",r.options)}}function Fe(t,o){if(1&t&&e.nrm(0,"ion-input",7),2&t){const r=e.XpG();e.Y8G("type",r.type)("autocomplete",r.autocomplete)("formControl",r.control)}}let he=(()=>{var t;class o{constructor(){}ngOnInit(){}}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-inputs"]],inputs:{control:"control",type:"type",label:"label",autocomplete:"autocomplete",placeholder:"placeholder",options:"options"},decls:6,vars:3,consts:[["inputField",""],["lines","none",1,"custom-input"],["position","floating"],[4,"ngIf","ngIfElse"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"type","autocomplete","formControl"]],template:function(n,i){if(1&n&&(e.j41(0,"ion-item",1)(1,"ion-label",2),e.EFF(2),e.k0s(),e.DNE(3,_e,3,2,"ng-container",3)(4,Fe,1,3,"ng-template",null,0,e.C5r),e.k0s()),2&n){const a=e.sdS(5);e.R7$(2),e.JRh(i.label),e.R7$(),e.Y8G("ngIf",i.options&&i.options.length)("ngIfElse",a)}},dependencies:[g.Sq,g.bT,s.$w,s.uz,s.he,s.Nm,s.Ip,s.Je,s.Gw,l.BC,l.l_],styles:['@charset "UTF-8";.custom-input[_ngcontent-%COMP%]{--background: black;--padding-start: 10px;--padding-end: 10px;--border-radius: 8px;--border-style: solid;--border-width: 2px;--border-color: #ccc;--box-shadow: 0 4px 6px rgba(0,0,0,.1);transition:all .3s}.custom-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]:focus{--border-color: #3880ff}']}),o})();const ve=()=>["Electrodom\xe9stico","Celulares","Computadores","TV","Accesorios","Videojuegos","Audio","C\xe1maras","Hogar","Deportes"],Ie=()=>["Xiaomi","Apple","LG","Kalley","Playstation","Xbox","Samsung","CASIO","SONY","JBL","Puma","Nike","Adidas Original","Altacom","Bolzan Letii"];let Ce=(()=>{var t;class o{constructor(n,i){this.firebaseService=n,this.utilsService=i,this.form=new l.gE({id:new l.MJ(""),name:new l.MJ("",[l.k0.required,l.k0.minLength(4)]),price:new l.MJ(null,[l.k0.required,l.k0.min(0)]),tipo:new l.MJ("",[l.k0.required]),descripcion:new l.MJ("",[l.k0.required,l.k0.minLength(4)]),fecha:new l.MJ("",[l.k0.required]),presupuesto:new l.MJ(null,[l.k0.required,l.k0.min(0)]),cantidad:new l.MJ(null,[l.k0.required,l.k0.min(1)]),valorTotal:new l.MJ({value:0,disabled:!0},[l.k0.required]),proveedor:new l.MJ("",[l.k0.required])})}ngOnInit(){this.producto&&this.form.patchValue(this.producto),this.form.get("cantidad").valueChanges.subscribe(()=>{this.updateTotalValue()}),this.form.get("price").valueChanges.subscribe(()=>{this.updateTotalValue()})}submit(){this.form.valid&&(this.form.get("valorTotal").enable(),this.producto?this.updateProduct():this.createProduct())}createProduct(){var n=this;return(0,d.A)(function*(){const a=yield n.utilsService.loading();yield a.present(),n.form.getRawValue(),delete n.form.value.id,n.firebaseService.addDocument("products",n.form.value).then((0,d.A)(function*(){n.utilsService.dismissModal({success:!0}),n.utilsService.presentToast({message:"Producto creado exitosamente",duration:1500,color:"success",position:"middle",icon:"checkmark-circle-outline"})})).catch(p=>{console.log(p),n.handleError(p.message)}).finally(()=>{a.dismiss()})})()}updateProduct(){var n=this;return(0,d.A)(function*(){const i=`products/${n.producto.id}`,a=yield n.utilsService.loading();yield a.present(),n.form.getRawValue(),delete n.form.value.id,n.firebaseService.UpdateDocument(i,n.form.value).then((0,d.A)(function*(){n.utilsService.dismissModal({success:!0}),n.utilsService.presentToast({message:"Producto actualizado exitosamente",duration:1500,color:"success",position:"middle",icon:"checkmark-circle-outline"})})).catch(p=>{console.log(p),n.handleError(p.message)}).finally(()=>{a.dismiss()})})()}handleError(n){this.utilsService.presentToast({message:n,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}updateTotalValue(){const a=this.form.get("cantidad").value*this.form.get("price").value;this.form.get("valorTotal").setValue(a),this.form.get("valorTotal").setValidators([l.k0.required]),this.form.get("valorTotal").updateValueAndValidity()}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(N),e.rXU(M))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-add-update-products"]],inputs:{producto:"producto"},decls:15,vars:16,consts:[["isModal","true",3,"title"],[1,"ion-padding"],[1,"form-container","ion-padding",3,"ngSubmit","formGroup"],["autocomplete","name","type","text","label","Ingrese el nombre",3,"control"],["type","number","label","Ingrese el precio",3,"control"],["type","number","label","Ingrese la cantidad",3,"control"],["type","number","label","Ingrese el presupuesto",3,"control"],["label","Seleccione el tipo de producto",3,"control","options"],["label","Seleccione el proveedor",3,"control","options"],["type","text","label","Ingrese la descripci\xf3n",3,"control"],["type","date","label","Fecha de Adquisici\xf3n",3,"control"],["type","number","label","Valor Total",3,"control"],["expand","block","mode","ios","type","submit",1,"submit-button"],["slot","end","name","checkmark-circle-outline"]],template:function(n,i){1&n&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content",1)(2,"form",2),e.bIt("ngSubmit",function(){return i.submit()}),e.nrm(3,"app-inputs",3)(4,"app-inputs",4)(5,"app-inputs",5)(6,"app-inputs",6)(7,"app-inputs",7)(8,"app-inputs",8)(9,"app-inputs",9)(10,"app-inputs",10)(11,"app-inputs",11),e.j41(12,"ion-button",12),e.EFF(13),e.nrm(14,"ion-icon",13),e.k0s()()()),2&n&&(e.Y8G("title",i.producto?"Actualizar Producto":"Agregar Producto"),e.R7$(2),e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("control",i.form.controls.name),e.R7$(),e.Y8G("control",i.form.controls.price),e.R7$(),e.Y8G("control",i.form.controls.cantidad),e.R7$(),e.Y8G("control",i.form.controls.presupuesto),e.R7$(),e.Y8G("control",i.form.controls.tipo)("options",e.lJ4(14,ve)),e.R7$(),e.Y8G("control",i.form.controls.proveedor)("options",e.lJ4(15,Ie)),e.R7$(),e.Y8G("control",i.form.controls.descripcion),e.R7$(),e.Y8G("control",i.form.controls.fecha),e.R7$(),e.Y8G("control",i.form.controls.valorTotal),e.R7$(2),e.SpI(" ",i.producto?"Actualizar Producto":"Agregar Producto"," "))},dependencies:[s.Jm,s.W9,s.iq,l.qT,l.cb,l.j4,U,he],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{background-color:#000;border-radius:10px;box-shadow:0 2px 4px #0000001a}.submit-button[_ngcontent-%COMP%]{margin-top:20px}@media (prefers-color-scheme: dark){.form-container[_ngcontent-%COMP%]{background-color:#000;color:#fff}.validators[_ngcontent-%COMP%]{color:#fcc}}']}),o})();var Ee=u(6697);function ye(t,o){if(1&t){const r=e.RV6();e.j41(0,"ion-item-sliding",18)(1,"ion-item",19)(2,"ion-avatar",20),e.nrm(3,"ion-img",21),e.k0s(),e.j41(4,"ion-label")(5,"h2")(6,"strong"),e.EFF(7,"Nombre:"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"h3")(10,"strong"),e.EFF(11,"Precio:"),e.k0s(),e.EFF(12),e.nI1(13,"currency"),e.k0s(),e.j41(14,"p")(15,"strong"),e.EFF(16,"Tipo:"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"p")(19,"strong"),e.EFF(20,"Descripci\xf3n:"),e.k0s(),e.EFF(21),e.k0s(),e.j41(22,"p")(23,"strong"),e.EFF(24,"Fecha de Adquisici\xf3n:"),e.k0s(),e.EFF(25),e.k0s(),e.j41(26,"p")(27,"strong"),e.EFF(28,"Presupuesto:"),e.k0s(),e.EFF(29),e.nI1(30,"currency"),e.k0s(),e.j41(31,"p")(32,"strong"),e.EFF(33,"Cantidad:"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"p")(36,"strong"),e.EFF(37,"Valor Total:"),e.k0s(),e.EFF(38),e.nI1(39,"currency"),e.k0s(),e.j41(40,"p")(41,"strong"),e.EFF(42,"Proveedor:"),e.k0s(),e.EFF(43),e.k0s()()(),e.j41(44,"ion-item-options",22)(45,"ion-item-option",23),e.bIt("click",function(){const i=e.eBV(r).$implicit,a=e.XpG();return e.Njj(a.addUpdateProduct(i))}),e.nrm(46,"ion-icon",24),e.k0s(),e.j41(47,"ion-item-option",25),e.bIt("click",function(){const i=e.eBV(r).$implicit,a=e.XpG();return e.Njj(a.presentAlertConfirm(i))}),e.nrm(48,"ion-icon",26),e.k0s()()()}if(2&t){const r=o.$implicit;e.R7$(3),e.Y8G("src",r.imageUrl||"assets/default-product.jpg"),e.R7$(5),e.SpI(" ",r.name,""),e.R7$(4),e.SpI(" ",e.i5U(13,10,r.price,"USD"),""),e.R7$(5),e.SpI(" ",r.tipo,""),e.R7$(4),e.SpI(" ",r.descripcion,""),e.R7$(4),e.SpI(" ",r.fecha,""),e.R7$(4),e.SpI(" ",e.i5U(30,13,r.presupuesto,"USD"),""),e.R7$(5),e.SpI(" ",r.cantidad,""),e.R7$(4),e.SpI(" ",e.i5U(39,16,r.valorTotal,"USD"),""),e.R7$(5),e.SpI(" ",r.proveedor,"")}}const be=[{path:"",component:(()=>{var t;class o{constructor(n,i){this.utilService=n,this.fireSvc=i,this.products=[],this.filteredProductos=[],this.searchTerm="",this.filterType=""}ngOnInit(){this.getProductos()}addUpdateProduct(n){var i=this;return(0,d.A)(function*(){(yield i.utilService.presentModal({component:Ce,cssClass:"add-update-modal",componentProps:{producto:n,products:i.products}}))&&i.getProductos()})()}ionViewWillEnter(){}getProductos(){this.fireSvc.getDatos("products").pipe((0,Ee.s)(1)).subscribe({next:i=>{console.log(i),this.products=i,this.applyFilters()}})}applyFilters(){this.filteredProductos=this.products.filter(n=>n.name.toLowerCase().includes(this.searchTerm.toLowerCase())&&(!this.filterType||n.tipo===this.filterType))}presentAlertConfirm(n){var i=this;return(0,d.A)(function*(){i.utilService.presentAlert({header:"Eliminar!",message:"\xbfQuieres Eliminar este producto?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel: blah")}},{text:"Si, eliminar",handler:()=>{i.deleteProduct(n)}}]})})()}deleteProduct(n){var i=this;return(0,d.A)(function*(){let a=`products/${n.id}`;const c=yield i.utilService.loading();yield c.present(),i.fireSvc.deleteDocument(a).then(function(){var p=(0,d.A)(function*(v){i.products=i.products.filter(I=>I.id!==n.id),i.applyFilters(),i.utilService.presentToast({message:"Producto Eliminado exitosamente",duration:1500,color:"success",position:"middle",icon:"checkmark-circle-outline"})});return function(v){return p.apply(this,arguments)}}()).catch(p=>{console.log(p),p instanceof Error&&i.utilService.presentToast({message:p.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{c.dismiss()})})()}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(M),e.rXU(N))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-inicio"]],decls:34,vars:3,consts:[["title","Inicio"],["placeholder","Buscar por nombre",3,"ngModelChange","ionInput","ngModel"],[3,"ngModelChange","ionChange","ngModel"],["value",""],["value","Electrodom\xe9stico"],["value","Celulares"],["value","Computadores"],["value","TV"],["value","Accesorios"],["value","Videojuegos"],["value","Audio"],["value","C\xe1maras"],["value","Hogar"],["value","Deportes"],["class","product-item",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","success",3,"click"],["name","add"],[1,"product-item"],["lines","full"],["slot","start"],[3,"src"],["side","end"],["color","tertiary",3,"click"],["slot","icon-only","name","create-outline"],["color","danger",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(n,i){1&n&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content")(2,"ion-searchbar",1),e.mxI("ngModelChange",function(c){return e.DH7(i.searchTerm,c)||(i.searchTerm=c),c}),e.bIt("ionInput",function(){return i.applyFilters()}),e.k0s(),e.j41(3,"ion-item")(4,"ion-label"),e.EFF(5,"Tipo de Producto"),e.k0s(),e.j41(6,"ion-select",2),e.mxI("ngModelChange",function(c){return e.DH7(i.filterType,c)||(i.filterType=c),c}),e.bIt("ionChange",function(){return i.applyFilters()}),e.j41(7,"ion-select-option",3),e.EFF(8,"Todos los tipos"),e.k0s(),e.j41(9,"ion-select-option",4),e.EFF(10,"Electrodom\xe9stico"),e.k0s(),e.j41(11,"ion-select-option",5),e.EFF(12,"Celulares"),e.k0s(),e.j41(13,"ion-select-option",6),e.EFF(14,"Computadores"),e.k0s(),e.j41(15,"ion-select-option",7),e.EFF(16,"TV"),e.k0s(),e.j41(17,"ion-select-option",8),e.EFF(18,"Accesorios"),e.k0s(),e.j41(19,"ion-select-option",9),e.EFF(20,"Videojuegos"),e.k0s(),e.j41(21,"ion-select-option",10),e.EFF(22,"Audio"),e.k0s(),e.j41(23,"ion-select-option",11),e.EFF(24,"C\xe1maras"),e.k0s(),e.j41(25,"ion-select-option",12),e.EFF(26,"Hogar"),e.k0s(),e.j41(27,"ion-select-option",13),e.EFF(28,"Deportes"),e.k0s()()(),e.j41(29,"ion-list"),e.DNE(30,ye,49,19,"ion-item-sliding",14),e.k0s(),e.j41(31,"ion-fab",15)(32,"ion-fab-button",16),e.bIt("click",function(){return i.addUpdateProduct()}),e.nrm(33,"ion-icon",17),e.k0s()()()),2&n&&(e.R7$(2),e.R50("ngModel",i.searchTerm),e.R7$(4),e.R50("ngModel",i.filterType),e.R7$(24),e.Y8G("ngForOf",i.filteredProductos))},dependencies:[g.Sq,l.BC,l.vS,s.mC,s.W9,s.Q8,s.YW,s.iq,s.KW,s.uz,s.LU,s.CE,s.A7,s.he,s.nf,s.S1,s.Nm,s.Ip,s.Je,s.Gw,U,g.oe]}),o})()}];let Se=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[C.iI.forChild(be),C.iI]}),o})();var Pe=u(3887);let $e=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,l.YN,s.bv,Se,Pe.G]}),o})()}}]);